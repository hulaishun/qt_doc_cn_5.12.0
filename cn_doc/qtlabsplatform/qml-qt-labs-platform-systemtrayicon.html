<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qquickplatformsystemtrayicon.cpp -->
  <title>SystemTrayIcon QML Type | Qt Labs Platform 5.12</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
  <div class="main">
    <div class="main-rounded">
      <div class="navigationbar">
        <table><tr>
<td ><a href="../qtdoc/index.html">Qt 5.12</a></td><td ><a href="qtlabsplatform-index.html">Qt Labs Platform</a></td><td ><a href="qt-labs-platform-qmlmodule.html">QML类型</a></td><td >SystemTrayIcon QML Type</td></tr></table><table class="buildversion"><tr>
<td id="buildversion" width="100%" align="right">Qt5.12.0参考文档</td>
        </tr></table>
      </div>
    </div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3><a name="toc">目录</a></h3>
<ul>
<li class="level1"><a href="#properties">属性</a></li>
<li class="level1"><a href="#signals">信号</a></li>
<li class="level1"><a href="#methods">方法</a></li>
<li class="level1"><a href="#details">详细描述</a></li>
<li class="level2"><a href="#tray-menu">Tray menu</a></li>
<li class="level2"><a href="#notification-messages">Notification messages</a></li>
<li class="level2"><a href="#availability">Availability</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">SystemTrayIcon QML Type</h1>
<span class="subtitle"></span>
<!-- $$$SystemTrayIcon-brief -->
<p>A system tray icon. <a href="#details">More...</a></p>
<!-- @@@SystemTrayIcon -->
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> Import Statement:</td><td class="memItemRight bottomAlign"> import Qt.labs.platform 1.1</td></tr><tr><td class="memItemLeft rightAlign topAlign"> Since:</td><td class="memItemRight bottomAlign">  Qt 5.8</td></tr><tr><td class="memItemLeft rightAlign topAlign"> 继承的父类是：</td><td class="memItemRight bottomAlign"> <p><a href="../qtqml/qml-qtqml-qtobject.html">QtObject</a></p>
</td></tr></table></div><ul>
<li><a href="qml-qt-labs-platform-systemtrayicon-members.html">所有成员清单，包括继承而来的成员</a></li>
<li><a href="qml-qt-labs-platform-systemtrayicon-obsolete.html">过时的成员</a></li>
</ul>
<a name="properties"></a>
<h2 id="properties">属性</h2>
<ul>
<li class="fn"><b><b><a href="qml-qt-labs-platform-systemtrayicon.html#available-prop">available</a></b></b> : bool</li>
<li class="fn"><b><b><a href="qml-qt-labs-platform-systemtrayicon.html#geometry-prop">geometry</a></b></b> : rect</li>
<li class="fn"><b><b><a href="qml-qt-labs-platform-systemtrayicon.html#icon-prop">icon</a></b></b><ul>
<li class="fn"><b><b><a href="qml-qt-labs-platform-systemtrayicon.html#icon.source-prop">icon.source</a></b></b> : url</li>
<li class="fn"><b><b><a href="qml-qt-labs-platform-systemtrayicon.html#icon.name-prop">icon.name</a></b></b> : string</li>
<li class="fn"><b><b><a href="qml-qt-labs-platform-systemtrayicon.html#icon.mask-prop">icon.mask</a></b></b> : bool</li>
</ul>
</li>
<li class="fn"><b><b><a href="qml-qt-labs-platform-systemtrayicon.html#menu-prop">menu</a></b></b> : Menu</li>
<li class="fn"><b><b><a href="qml-qt-labs-platform-systemtrayicon.html#supportsMessages-prop">supportsMessages</a></b></b> : bool</li>
<li class="fn"><b><b><a href="qml-qt-labs-platform-systemtrayicon.html#tooltip-prop">tooltip</a></b></b> : string</li>
<li class="fn"><b><b><a href="qml-qt-labs-platform-systemtrayicon.html#visible-prop">visible</a></b></b> : bool</li>
</ul>
<a name="signals"></a>
<h2 id="signals">信号</h2>
<ul>
<li class="fn"><b><b><a href="qml-qt-labs-platform-systemtrayicon.html#activated-signal">activated</a></b></b>(ActivationReason <i>reason</i>)</li>
<li class="fn"><b><b><a href="qml-qt-labs-platform-systemtrayicon.html#messageClicked-signal">messageClicked</a></b></b>()</li>
</ul>
<a name="methods"></a>
<h2 id="methods">方法</h2>
<ul>
<li class="fn">void <b><b><a href="qml-qt-labs-platform-systemtrayicon.html#hide-method">hide</a></b></b>()</li>
<li class="fn">void <b><b><a href="qml-qt-labs-platform-systemtrayicon.html#show-method">show</a></b></b>()</li>
<li class="fn">void <b><b><a href="qml-qt-labs-platform-systemtrayicon.html#showMessage-method">showMessage</a></b></b>(string <i>title</i>,  string <i>message</i>,  MessageIcon <i>icon</i>,  int <i>msecs</i>)</li>
</ul>
<!-- $$$SystemTrayIcon-description -->
<a name="details"></a>
<h2 id="details">详细描述</h2>
<p>The <a href="qml-qt-labs-platform-systemtrayicon.html">SystemTrayIcon</a> type provides an icon for an application in the system tray.</p>
<p>Many desktop platforms provide a special system tray or notification area, where applications can display icons and notification messages.</p>
<p class="centerAlign"><img src="images/qtlabsplatform-systemtrayicon.png" alt="" /></p><p>The following example shows how to create a system tray icon, and how to make use of the <a href="qml-qt-labs-platform-systemtrayicon.html#activated-signal">activated()</a> signal:</p>
<pre class="cpp">

  SystemTrayIcon {
      visible: <span class="keyword">true</span>
      icon<span class="operator">.</span>source: <span class="string">&quot;qrc:/images/tray-icon.png&quot;</span>

      onActivated: {
          window<span class="operator">.</span>show()
          window<span class="operator">.</span>raise()
          window<span class="operator">.</span>requestActivate()
      }
  }

</pre>
<a name="tray-menu"></a>
<h3 >Tray menu</h3>
<p><a href="qml-qt-labs-platform-systemtrayicon.html">SystemTrayIcon</a> can have a menu that opens when the icon is activated.</p>
<p class="centerAlign"><img src="images/qtlabsplatform-systemtrayicon-menu.png" alt="" /></p><p>The following example illustrates how to assign a <a href="qml-qt-labs-platform-menu.html">Menu</a> to a system tray icon:</p>
<pre class="cpp">

  SystemTrayIcon {
      visible: <span class="keyword">true</span>
      icon<span class="operator">.</span>source: <span class="string">&quot;qrc:/images/tray-icon.png&quot;</span>

      menu: Menu {
          MenuItem {
              text: qsTr(<span class="string">&quot;Quit&quot;</span>)
              onTriggered: <span class="type"><a href="../qtqml/qml-qtqml-qt.html">Qt</a></span><span class="operator">.</span>quit()
          }
      }
  }

</pre>
<a name="notification-messages"></a>
<h3 >Notification messages</h3>
<p><a href="qml-qt-labs-platform-systemtrayicon.html">SystemTrayIcon</a> can display notification messages.</p>
<p class="centerAlign"><img src="images/qtlabsplatform-systemtrayicon-message.png" alt="" /></p><p>The following example presents how to show a notification message using <a href="qml-qt-labs-platform-systemtrayicon.html#showMessage-method">showMessage()</a>, and how to make use of the <a href="qml-qt-labs-platform-systemtrayicon.html#messageClicked-signal">messageClicked()</a> signal:</p>
<pre class="cpp">

  SystemTrayIcon {
      visible: <span class="keyword">true</span>
      icon<span class="operator">.</span>source: <span class="string">&quot;qrc:/images/tray-icon.png&quot;</span>

      onMessageClicked: console<span class="operator">.</span>log(<span class="string">&quot;Message clicked&quot;</span>)
      Component<span class="operator">.</span>onCompleted: showMessage(<span class="string">&quot;Message title&quot;</span><span class="operator">,</span> <span class="string">&quot;Something important came up. Click this to know more.&quot;</span>)
  }

</pre>
<a name="availability"></a>
<h3 >Availability</h3>
<p>A native system tray icon is currently <a href="qml-qt-labs-platform-systemtrayicon.html#available-prop">available</a> on the following platforms:</p>
<ul>
<li>All window managers and independent tray implementations for X11 that implement the <a href="http://standards.freedesktop.org/systemtray-spec/systemtray-spec-0.2.html">freedesktop.org XEmbed system tray specification</a>.</li>
<li>All desktop environments that implement the <a href="http://www.freedesktop.org/wiki/Specifications/StatusNotifierItem/StatusNotifierItem">freedesktop.org D-Bus StatusNotifierItem specification</a>, including recent versions of KDE and Unity.</li>
<li>All supported versions of <a href="../qtdoc/internationalization.html#macos">macOS</a>. Note that the Growl notification system must be installed for <a href="qml-qt-labs-platform-systemtrayicon.html#showMessage-method">showMessage()</a> to display messages on OS X prior to 10.8 (Mountain Lion).</li>
</ul>
<p>The Qt Labs Platform module uses Qt Widgets as a fallback on platforms that do not have a native implementation available. Therefore, applications that use types from the Qt Labs Platform module should link to <a href="../qtgui/qtwidgets-module.html">QtWidgets</a> and use <a href="../qtwidgets/qapplication.html">QApplication</a> instead of <a href="../qtgui/qguiapplication.html">QGuiApplication</a>.</p>
<p>To link against the <a href="../qtgui/qtwidgets-module.html">QtWidgets</a> library, add the following to your qmake project file:</p>
<pre class="cpp">

  QT <span class="operator">+</span><span class="operator">=</span> widgets

</pre>
<p>Create an instance of <a href="../qtwidgets/qapplication.html">QApplication</a> in <code>main()</code>:</p>
<pre class="cpp">

  <span class="preprocessor">#include &lt;QApplication&gt;</span>
  <span class="preprocessor">#include &lt;QQmlApplicationEngine&gt;</span>

  <span class="type"><a href="../qtqml/qml-int.html">int</a></span> main(<span class="type"><a href="../qtqml/qml-int.html">int</a></span> argc<span class="operator">,</span> <span class="type">char</span> <span class="operator">*</span>argv<span class="operator">[</span><span class="operator">]</span>)
  {
      <span class="type">QApplication</span><span class="operator">::</span>setAttribute(<span class="type"><a href="../qtqml/qml-qtqml-qt.html">Qt</a></span><span class="operator">::</span>AA_EnableHighDpiScaling);
      <span class="type">QApplication</span> app(argc<span class="operator">,</span> argv);
      <span class="type">QQmlApplicationEngine</span> engine;
      engine<span class="operator">.</span>load(<span class="type">QUrl</span>(<span class="type">QStringLiteral</span>(<span class="string">&quot;qrc:/main.qml&quot;</span>)));
      <span class="keyword">return</span> app<span class="operator">.</span>exec();
  }

</pre>
<p><b>Note: </b><i>Types in Qt.labs modules are not guaranteed to remain compatible in future versions.</i></p><p><b> 参见 </b><a href="qml-qt-labs-platform-menu.html">Menu</a>.</p>
<!-- @@@SystemTrayIcon -->
<h2>属性文档</h2>
<!-- $$$available -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="available-prop">
<td class="tblQmlPropNode"><p>
<a name="available-prop"></a><span class="qmlreadonly">[read-only] </span><span class="name">available</span> : <span class="type"><a href="../qtqml/qml-bool.html">bool</a></span></p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This property holds whether the system tray is available.</p>
</div></div><!-- @@@available -->
<br/>
<!-- $$$geometry -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="geometry-prop">
<td class="tblQmlPropNode"><p>
<a name="geometry-prop"></a><span class="name">geometry</span> : <span class="type"><a href="../qtqml/qml-rect.html">rect</a></span></p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This property holds the geometry of the system tray icon.</p>
<p>This property was introduced in  Qt.labs.platform 1.1 (Qt 5.12).</p>
</div></div><!-- @@@geometry -->
<br/>
<!-- $$$icon -->
<div class="qmlitem"><div class="qmlproto"><div class="table"><table class="qmlname"><tr valign="top" class="even" id="icon-prop"><th class="centerAlign"><p><a name="icon-prop"></a><b>icon group</b></p></th></tr><tr valign="top" class="odd" id="icon.source-prop"><td class="tblQmlPropNode"><p><a name="icon.source-prop"></a><span class="name">icon.source</span> : <span class="type"><a href="../qtqml/qml-url.html">url</a></span></p></td></tr><tr valign="top" class="odd" id="icon.name-prop"><td class="tblQmlPropNode"><p><a name="icon.name-prop"></a><span class="name">icon.name</span> : <span class="type"><a href="../qtqml/qml-string.html">string</a></span></p></td></tr><tr valign="top" class="odd" id="icon.mask-prop"><td class="tblQmlPropNode"><p><a name="icon.mask-prop"></a><span class="name">icon.mask</span> : <span class="type"><a href="../qtqml/qml-bool.html">bool</a></span></p></td></tr></table></div></div><div class="qmldoc"><p>This property holds the system tray icon.</p>
<pre class="cpp">

  SystemTrayIcon {
      icon<span class="operator">.</span>mask: <span class="keyword">true</span>
      icon<span class="operator">.</span>source: <span class="string">&quot;qrc:/images/tray-icon.png&quot;</span>
  }

</pre>
<p>This property group was introduced in  Qt.labs.platform 1.1 (Qt 5.12).</p>
</div></div><!-- @@@icon -->
<br/>
<!-- $$$menu -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="menu-prop">
<td class="tblQmlPropNode"><p>
<a name="menu-prop"></a><span class="name">menu</span> : <span class="type"><a href="qml-qt-labs-platform-menu.html">Menu</a></span></p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This property holds a menu for the system tray icon.</p>
</div></div><!-- @@@menu -->
<br/>
<!-- $$$supportsMessages -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="supportsMessages-prop">
<td class="tblQmlPropNode"><p>
<a name="supportsMessages-prop"></a><span class="qmlreadonly">[read-only] </span><span class="name">supportsMessages</span> : <span class="type"><a href="../qtqml/qml-bool.html">bool</a></span></p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This property holds whether the system tray icon supports notification messages.</p>
<p><b> 参见 </b><a href="qml-qt-labs-platform-systemtrayicon.html#showMessage-method">showMessage()</a>.</p>
</div></div><!-- @@@supportsMessages -->
<br/>
<!-- $$$tooltip -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="tooltip-prop">
<td class="tblQmlPropNode"><p>
<a name="tooltip-prop"></a><span class="name">tooltip</span> : <span class="type"><a href="../qtqml/qml-string.html">string</a></span></p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This property holds the tooltip of the system tray icon.</p>
</div></div><!-- @@@tooltip -->
<br/>
<!-- $$$visible -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="visible-prop">
<td class="tblQmlPropNode"><p>
<a name="visible-prop"></a><span class="name">visible</span> : <span class="type"><a href="../qtqml/qml-bool.html">bool</a></span></p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This property holds whether the system tray icon is visible.</p>
<p>The default value is <code>false</code>.</p>
</div></div><!-- @@@visible -->
<br/>
<h2>信号文档</h2>
<!-- $$$activated -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="activated-signal">
<td class="tblQmlFuncNode"><p>
<a name="activated-signal"></a><span class="name">activated</span>(<span class="type">ActivationReason</span> <i>reason</i>)</p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This signal is emitted when the system tray icon is activated by the user. The <i>reason</i> argument specifies how the system tray icon was activated.</p>
<p>Available reasons:</p>
<div class="table"><table class="valuelist"><tr valign="top" class="odd"><th class="tblConst">常量</th><th class="tbldscr">描述</th></tr>
<tr><td class="topAlign"><code>SystemTrayIcon.Unknown</code></td><td class="topAlign">Unknown reason</td></tr>
<tr><td class="topAlign"><code>SystemTrayIcon.Context</code></td><td class="topAlign">The context menu for the system tray icon was requested</td></tr>
<tr><td class="topAlign"><code>SystemTrayIcon.DoubleClick</code></td><td class="topAlign">The system tray icon was double clicked</td></tr>
<tr><td class="topAlign"><code>SystemTrayIcon.Trigger</code></td><td class="topAlign">The system tray icon was clicked</td></tr>
<tr><td class="topAlign"><code>SystemTrayIcon.MiddleClick</code></td><td class="topAlign">The system tray icon was clicked with the middle mouse button</td></tr>
</table></div>
</div></div><!-- @@@activated -->
<br/>
<!-- $$$messageClicked -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="messageClicked-signal">
<td class="tblQmlFuncNode"><p>
<a name="messageClicked-signal"></a><span class="name">messageClicked</span>()</p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This signal is emitted when a notification message is clicked by the user.</p>
<p><b> 参见 </b><a href="qml-qt-labs-platform-systemtrayicon.html#showMessage-method">showMessage()</a>.</p>
</div></div><!-- @@@messageClicked -->
<br/>
<h2>方法文档</h2>
<!-- $$$hide -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="hide-method">
<td class="tblQmlFuncNode"><p>
<a name="hide-method"></a><span class="type">void</span> <span class="name">hide</span>()</p></td></tr>
</table></div>
</div><div class="qmldoc"><p>Hides the system tray icon.</p>
</div></div><!-- @@@hide -->
<br/>
<!-- $$$show -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="show-method">
<td class="tblQmlFuncNode"><p>
<a name="show-method"></a><span class="type">void</span> <span class="name">show</span>()</p></td></tr>
</table></div>
</div><div class="qmldoc"><p>Shows the system tray icon.</p>
</div></div><!-- @@@show -->
<br/>
<!-- $$$showMessage -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="showMessage-method">
<td class="tblQmlFuncNode"><p>
<a name="showMessage-method"></a><span class="type">void</span> <span class="name">showMessage</span>(<span class="type"><a href="../qtqml/qml-string.html">string</a></span> <i>title</i>,  <span class="type"><a href="../qtqml/qml-string.html">string</a></span> <i>message</i>,  <span class="type">MessageIcon</span> <i>icon</i>,  <span class="type"><a href="../qtqml/qml-int.html">int</a></span> <i>msecs</i>)</p></td></tr>
</table></div>
</div><div class="qmldoc"><p>Shows a system tray message with the given <i>title</i>, <i>message</i> and <i>icon</i> for the time specified in <i>msecs</i>.</p>
<p><b>Note: </b>System tray messages are dependent on the system configuration and user preferences, and may not appear at all. Therefore, it should not be relied upon as the sole means for providing critical information.</p><p><b> 参见 </b><a href="qml-qt-labs-platform-systemtrayicon.html#supportsMessages-prop">supportsMessages</a> 和 <a href="qml-qt-labs-platform-systemtrayicon.html#messageClicked-signal">messageClicked()</a>.</p>
</div></div><!-- @@@showMessage -->
<br/>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2018 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br/>    Qt and respective logos are trademarks of The Qt Company Ltd.     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
