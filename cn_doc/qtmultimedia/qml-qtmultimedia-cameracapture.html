<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qdeclarativecameracapture.cpp -->
  <title>CameraCapture QML Type | Qt Multimedia 5.12</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
  <div class="main">
    <div class="main-rounded">
      <div class="navigationbar">
        <table><tr>
<td ><a href="../qtdoc/index.html">Qt 5.12</a></td><td ><a href="qtmultimedia-index.html">Qt多媒体</a></td><td ><a href="qtmultimedia-qmlmodule.html">QML类型</a></td><td >CameraCapture QML Type</td></tr></table><table class="buildversion"><tr>
<td id="buildversion" width="100%" align="right">Qt5.12.0参考文档</td>
        </tr></table>
      </div>
    </div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3><a name="toc">目录</a></h3>
<ul>
<li class="level1"><a href="#properties">属性</a></li>
<li class="level1"><a href="#signals">信号</a></li>
<li class="level1"><a href="#methods">方法</a></li>
<li class="level1"><a href="#details">详细描述</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">CameraCapture QML Type</h1>
<span class="subtitle"></span>
<!-- $$$CameraCapture-brief -->
<p>An interface for capturing camera images. <a href="#details">More...</a></p>
<!-- @@@CameraCapture -->
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> Import Statement:</td><td class="memItemRight bottomAlign"> import QtMultimedia 5.8</td></tr></table></div><ul>
<li><a href="qml-qtmultimedia-cameracapture-members.html">所有成员清单，包括继承而来的成员</a></li>
</ul>
<a name="properties"></a>
<h2 id="properties">属性</h2>
<ul>
<li class="fn"><b><b><a href="qml-qtmultimedia-cameracapture.html#capturedImagePath-prop">capturedImagePath</a></b></b> : string</li>
<li class="fn"><b><b><a href="qml-qtmultimedia-cameracapture.html#errorString-prop">errorString</a></b></b> : string</li>
<li class="fn"><b><b><a href="qml-qtmultimedia-cameracapture.html#ready-prop">ready</a></b></b> : bool</li>
<li class="fn"><b><b><a href="qml-qtmultimedia-cameracapture.html#resolution-prop">resolution</a></b></b> : size</li>
<li class="fn"><b><b><a href="qml-qtmultimedia-cameracapture.html#supportedResolutions-prop">supportedResolutions</a></b></b> : list&lt;size&gt;</li>
</ul>
<a name="signals"></a>
<h2 id="signals">信号</h2>
<ul>
<li class="fn"><b><b><a href="qml-qtmultimedia-cameracapture.html#captureFailed-signal">captureFailed</a></b></b>(<i>requestId</i>, <i>message</i>)</li>
<li class="fn"><b><b><a href="qml-qtmultimedia-cameracapture.html#imageCaptured-signal">imageCaptured</a></b></b>(<i>requestId</i>, <i>preview</i>)</li>
<li class="fn"><b><b><a href="qml-qtmultimedia-cameracapture.html#imageMetadataAvailable-signal">imageMetadataAvailable</a></b></b>(<i>requestId</i>, <i>key</i>, <i>value</i>)</li>
<li class="fn"><b><b><a href="qml-qtmultimedia-cameracapture.html#imageSaved-signal">imageSaved</a></b></b>(<i>requestId</i>, <i>path</i>)</li>
</ul>
<a name="methods"></a>
<h2 id="methods">方法</h2>
<ul>
<li class="fn"><b><b><a href="qml-qtmultimedia-cameracapture.html#cancelCapture-method">cancelCapture</a></b></b>()</li>
<li class="fn"><b><b><a href="qml-qtmultimedia-cameracapture.html#capture-method">capture</a></b></b>()</li>
<li class="fn"><b><b><a href="qml-qtmultimedia-cameracapture.html#captureToLocation-method">captureToLocation</a></b></b>(<i>location</i>)</li>
<li class="fn"><b><b><a href="qml-qtmultimedia-cameracapture.html#setMetadata-method">setMetadata</a></b></b>(<i>key</i>, <i>value</i>)</li>
</ul>
<!-- $$$CameraCapture-description -->
<a name="details"></a>
<h2 id="details">详细描述</h2>
<p>This type allows you to capture still images and be notified when they are available or saved to disk. You can adjust the resolution of the captured image and where the saved image should go.</p>
<p><a href="qml-qtmultimedia-cameracapture.html">CameraCapture</a> is a child of a <a href="qml-multimedia.html#camera">Camera</a> (as the <code>imageCapture</code> property) and cannot be created directly.</p>
<pre class="qml">

  <span class="type"><a href="../qtquick/qml-qtquick-item.html">Item</a></span> {
      <span class="name">width</span>: <span class="number">640</span>
      <span class="name">height</span>: <span class="number">360</span>

      <span class="type"><a href="qml-qtmultimedia-camera.html">Camera</a></span> {
          <span class="name">id</span>: <span class="name">camera</span>

          <span class="type">imageCapture</span> {
              <span class="name">onImageCaptured</span>: {
                  <span class="comment">// Show the preview in an Image</span>
                  <span class="name">photoPreview</span>.<span class="name">source</span> <span class="operator">=</span> <span class="name">preview</span>
              }
          }
      }

      <span class="type"><a href="qml-qtmultimedia-videooutput.html">VideoOutput</a></span> {
          <span class="name">source</span>: <span class="name">camera</span>
          <span class="name">focus</span> : <span class="name">visible</span> <span class="comment">// to receive focus and capture key events when visible</span>
          <span class="name">anchors</span>.fill: <span class="name">parent</span>

          <span class="type"><a href="../qtquick/qml-qtquick-mousearea.html">MouseArea</a></span> {
              <span class="name">anchors</span>.fill: <span class="name">parent</span>;
              <span class="name">onClicked</span>: <span class="name">camera</span>.<span class="name">imageCapture</span>.<span class="name">capture</span>();
          }
      }

      <span class="type"><a href="../qtquick/qml-qtquick-image.html">Image</a></span> {
          <span class="name">id</span>: <span class="name">photoPreview</span>
      }
  }

</pre>
<!-- @@@CameraCapture -->
<h2>属性文档</h2>
<!-- $$$capturedImagePath -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="capturedImagePath-prop">
<td class="tblQmlPropNode"><p>
<a name="capturedImagePath-prop"></a><span class="name">capturedImagePath</span> : <span class="type"><a href="../qtqml/qml-string.html">string</a></span></p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This property holds the location of the last captured image.</p>
</div></div><!-- @@@capturedImagePath -->
<br/>
<!-- $$$errorString -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="errorString-prop">
<td class="tblQmlPropNode"><p>
<a name="errorString-prop"></a><span class="name">errorString</span> : <span class="type"><a href="../qtqml/qml-string.html">string</a></span></p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This property holds the error message related to the last capture.</p>
</div></div><!-- @@@errorString -->
<br/>
<!-- $$$ready -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="ready-prop">
<td class="tblQmlPropNode"><p>
<a name="ready-prop"></a><span class="name">ready</span> : <span class="type"><a href="../qtqml/qml-bool.html">bool</a></span></p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This property holds a bool value indicating whether the camera is ready to capture photos or not.</p>
<p>Calling <a href="qml-qtmultimedia-cameracapture.html#capture-method">capture()</a> while <i>ready</i> is <code>false</code> is not permitted and results in an error.</p>
</div></div><!-- @@@ready -->
<br/>
<!-- $$$resolution -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="resolution-prop">
<td class="tblQmlPropNode"><p>
<a name="resolution-prop"></a><span class="name">resolution</span> : <span class="type"><a href="../qtqml/qml-size.html">size</a></span></p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This property holds the resolution/size of the image to be captured. If empty, the system chooses the appropriate resolution.</p>
<p><b>参见</b><a href="qml-qtmultimedia-cameracapture.html#supportedResolutions-prop">supportedResolutions</a>.</p>
</div></div><!-- @@@resolution -->
<br/>
<!-- $$$supportedResolutions -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="supportedResolutions-prop">
<td class="tblQmlPropNode"><p>
<a name="supportedResolutions-prop"></a><span class="name">supportedResolutions</span> : <span class="type"><a href="../qtqml/qml-list.html">list</a></span>&lt;<span class="type"><a href="../qtqml/qml-size.html">size</a></span>&gt;</p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This property holds a list of resolutions which are supported for capturing. The information can be used to set a valid <i>resolution</i>. If the camera isn't loaded, the list will be empty.</p>
<p>This property was introduced in  Qt 5.9.</p>
<p><b>参见</b><a href="qml-qtmultimedia-cameracapture.html#resolution-prop">resolution</a>.</p>
</div></div><!-- @@@supportedResolutions -->
<br/>
<h2>Signal Documentation</h2>
<!-- $$$captureFailed -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="captureFailed-signal">
<td class="tblQmlFuncNode"><p>
<a name="captureFailed-signal"></a><span class="name">captureFailed</span>(<i>requestId</i>, <i>message</i>)</p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This signal is emitted when an error occurs during capture with <i>requestId</i>. A descriptive message is available in <i>message</i>.</p>
<p>The corresponding handler is <code>onCaptureFailed</code>.</p>
</div></div><!-- @@@captureFailed -->
<br/>
<!-- $$$imageCaptured -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="imageCaptured-signal">
<td class="tblQmlFuncNode"><p>
<a name="imageCaptured-signal"></a><span class="name">imageCaptured</span>(<i>requestId</i>, <i>preview</i>)</p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This signal is emitted when an image with <i>requestId</i> has been captured but not yet saved to the filesystem. The <i>preview</i> parameter can be used as the URL supplied to an <a href="../qtquick/qml-qtquick-image.html">Image</a>.</p>
<p>The corresponding handler is <code>onImageCaptured</code>.</p>
<p><b>参见</b><a href="qml-qtmultimedia-cameracapture.html#imageSaved-signal">imageSaved</a>.</p>
</div></div><!-- @@@imageCaptured -->
<br/>
<!-- $$$imageMetadataAvailable -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="imageMetadataAvailable-signal">
<td class="tblQmlFuncNode"><p>
<a name="imageMetadataAvailable-signal"></a><span class="name">imageMetadataAvailable</span>(<i>requestId</i>, <i>key</i>, <i>value</i>)</p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This signal is emitted when the image with <i>requestId</i> has new metadata available with the key <i>key</i> and value <i>value</i>.</p>
<p>The corresponding handler is <code>onImageMetadataAvailable</code>.</p>
<p><b>参见</b><a href="qml-qtmultimedia-cameracapture.html#imageCaptured-signal">imageCaptured</a>.</p>
</div></div><!-- @@@imageMetadataAvailable -->
<br/>
<!-- $$$imageSaved -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="imageSaved-signal">
<td class="tblQmlFuncNode"><p>
<a name="imageSaved-signal"></a><span class="name">imageSaved</span>(<i>requestId</i>, <i>path</i>)</p></td></tr>
</table></div>
</div><div class="qmldoc"><p>This signal is emitted after the image with <i>requestId</i> has been written to the filesystem. The <i>path</i> is a local file path, not a URL.</p>
<p>The corresponding handler is <code>onImageSaved</code>.</p>
<p><b>参见</b><a href="qml-qtmultimedia-cameracapture.html#imageCaptured-signal">imageCaptured</a>.</p>
</div></div><!-- @@@imageSaved -->
<br/>
<h2>方法文档</h2>
<!-- $$$cancelCapture -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="cancelCapture-method">
<td class="tblQmlFuncNode"><p>
<a name="cancelCapture-method"></a><span class="name">cancelCapture</span>()</p></td></tr>
</table></div>
</div><div class="qmldoc"><p>Cancel pending image capture requests.</p>
</div></div><!-- @@@cancelCapture -->
<br/>
<!-- $$$capture -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="capture-method">
<td class="tblQmlFuncNode"><p>
<a name="capture-method"></a><span class="name">capture</span>()</p></td></tr>
</table></div>
</div><div class="qmldoc"><p>Start image capture. The <a href="qml-qtmultimedia-cameracapture.html#imageCaptured-signal">imageCaptured</a> and <a href="qml-qtmultimedia-cameracapture.html#imageSaved-signal">imageSaved</a> signals will be emitted when the capture is complete.</p>
<p>The image will be captured to the default system location, typically <a href="../qtcore/qstandardpaths.html#writableLocation">QStandardPaths::writableLocation</a>(<a href="../qtcore/qstandardpaths.html#StandardLocation-enum">QStandardPaths::PicturesLocation</a>) for still imaged or <a href="../qtcore/qstandardpaths.html#writableLocation">QStandardPaths::writableLocation</a>(<a href="../qtcore/qstandardpaths.html#StandardLocation-enum">QStandardPaths::MoviesLocation</a>) for video.</p>
<p>Camera saves all the capture parameters like exposure settings or image processing parameters, so changes to camera parameters after capture() is called do not affect previous capture requests.</p>
<p>capture() returns the capture requestId parameter, used with imageExposed(), <a href="qml-qtmultimedia-cameracapture.html#imageCaptured-signal">imageCaptured()</a>, <a href="qml-qtmultimedia-cameracapture.html#imageMetadataAvailable-signal">imageMetadataAvailable()</a> and <a href="qml-qtmultimedia-cameracapture.html#imageSaved-signal">imageSaved()</a> signals.</p>
<p><b>参见</b><a href="qml-qtmultimedia-cameracapture.html#ready-prop">ready</a>.</p>
</div></div><!-- @@@capture -->
<br/>
<!-- $$$captureToLocation -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="captureToLocation-method">
<td class="tblQmlFuncNode"><p>
<a name="captureToLocation-method"></a><span class="name">captureToLocation</span>(<i>location</i>)</p></td></tr>
</table></div>
</div><div class="qmldoc"><p>Start image capture to specified <i>location</i>. The <a href="qml-qtmultimedia-cameracapture.html#imageCaptured-signal">imageCaptured</a> and <a href="qml-qtmultimedia-cameracapture.html#imageSaved-signal">imageSaved</a> signals will be emitted when the capture is complete.</p>
<p>CameraCapture::captureToLocation returns the capture requestId parameter, used with imageExposed(), <a href="qml-qtmultimedia-cameracapture.html#imageCaptured-signal">imageCaptured()</a>, <a href="qml-qtmultimedia-cameracapture.html#imageMetadataAvailable-signal">imageMetadataAvailable()</a> and <a href="qml-qtmultimedia-cameracapture.html#imageSaved-signal">imageSaved()</a> signals.</p>
<p>If the application is unable to write to the location specified by <code>location</code> the <a href="qml-qtmultimedia-cameracapture.html">CameraCapture</a> will emit an error. The most likely reasons for the application to be unable to write to a location is that the path is wrong and the location does not exists, or the application does not have write permission for that location.</p>
</div></div><!-- @@@captureToLocation -->
<br/>
<!-- $$$setMetadata -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="setMetadata-method">
<td class="tblQmlFuncNode"><p>
<a name="setMetadata-method"></a><span class="name">setMetadata</span>(<i>key</i>, <i>value</i>)</p></td></tr>
</table></div>
</div><div class="qmldoc"><p>Sets a particular metadata <i>key</i> to <i>value</i> for the subsequent image captures.</p>
<p><b>参见</b><a href="qmediametadata.html">QMediaMetaData</a>.</p>
</div></div><!-- @@@setMetadata -->
<br/>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2018 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br/>    Qt and respective logos are trademarks of The Qt Company Ltd.     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
