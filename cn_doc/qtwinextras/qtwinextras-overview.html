<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qtwinextras-overview.qdoc -->
  <title>Qt Windows Extras Overview | Qt Windows Extras 5.12</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
  <div class="main">
    <div class="main-rounded">
      <div class="navigationbar">
        <table><tr>
<td ><a href="../qtdoc/index.html">Qt 5.12</a></td><td ><a href="qtwinextras-index.html">Qt Windows Extras</a></td><td >Qt Windows Extras Overview</td></tr></table><table class="buildversion"><tr>
<td id="buildversion" width="100%" align="right">Qt5.12.0参考文档</td>
        </tr></table>
      </div>
    </div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3><a name="toc">目录</a></h3>
<ul>
<li class="level1"><a href="#type-conversion">Type Conversion</a></li>
<li class="level1"><a href="#dwm-and-glass-frame">DWM and Glass Frame</a></li>
<li class="level1"><a href="#aero-peek">Aero Peek</a></li>
<li class="level1"><a href="#taskbar">Taskbar</a></li>
<li class="level2"><a href="#overlay-icons-and-progress-indicators">Overlay Icons and Progress Indicators</a></li>
<li class="level2"><a href="#jump-lists">Jump Lists</a></li>
<li class="level2"><a href="#thumbnail-toolbar">Thumbnail Toolbar</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Qt Windows Extras Overview</h1>
<span class="subtitle"></span>
<!-- $$$qtwinextras-Overview.html-description -->
<div class="descr"> <a name="details"></a>
<p>Qt Windows Extras provide classes and functions that enable you to use miscellaneous Windows-specific functions. For example, you can convert Qt objects to Windows object handles and manipulate DWM glass frames.</p>
<p>In addition, you can use features introduced with Windows 7, such as Aero Peek, Jump Lists, a progress indicator on a taskbar button, or a thumbnail toolbar.</p>
<a name="type-conversion"></a>
<h2 id="type-conversion">Type Conversion</h2>
<p>The <a href="qtwin.html">QtWin</a> namespace provides functions to convert Qt objects of classes such as <a href="../qtgui/qpixmap.html">QPixmap</a> or <a href="../qtgui/qimage.html">QImage</a> to Windows HBITMAP or HICON handles, and vice versa.</p>
<a name="dwm-and-glass-frame"></a>
<h2 id="dwm-and-glass-frame">DWM and Glass Frame</h2>
<p>You can determine whether a window is included in the DWM Flip3D rendering.</p>
<p>The glass frame that was first introduced with Windows Vista can be easily manipulated using the <a href="qtwin.html#extendFrameIntoClientArea">QtWin::extendFrameIntoClientArea</a>() and <a href="qtwin.html#enableBlurBehindWindow">QtWin::enableBlurBehindWindow</a>() functions. Windows 8 lost the glass effect, but applications can still integrate their windows into the system frame to visually separate window controls from the rest of the window or to focus the user's attention on window content.</p>
<p class="centerAlign"><img src="images/glass.png" alt="&quot;Glass frame extended into client area of a window&quot;" /></p><a name="aero-peek"></a>
<h2 id="aero-peek">Aero Peek</h2>
<p>The Windows 7 <b>Aero Peek</b> feature gives the users the powers of X-ray vision that enable them to peek past all open windows straight at the desktop and the gadgets placed there. They can view the contents of a window without actually switching to it. You can enable Aero Peek for a gadget-like window or for a window that constantly displays monitoring data.</p>
<p>You can use the <a href="qtwin.html#setWindowExcludedFromPeek">QtWin::setWindowExcludedFromPeek</a>() function to exclude an application window from Aero Peek.</p>
<p><b>Note: </b>Aero Peek is disabled in Windows 8 by default but can be enabled by the user.</p><p class="centerAlign"><img src="images/peek-on.png" alt="&quot;A window excluded from Aero Peek&quot;" /></p><a name="taskbar"></a>
<h2 id="taskbar">Taskbar</h2>
<p>The taskbar provides users with access to applications that are open on the desktop. Windows automatically creates buttons on the taskbar for accessing application windows. Windows 7 adds new features to the taskbar buttons that are discussed in the following sections.</p>
<a name="overlay-icons-and-progress-indicators"></a>
<h3 >Overlay Icons and Progress Indicators</h3>
<p>You can use the <a href="qwintaskbarbutton.html">QWinTaskbarButton</a> class to set an overlay icon and the <a href="qwintaskbarprogress.html">QWinTaskbarProgress</a> class to display a progress indicator on a taskbar button. An overlay icon indicates change in the state of the application. A progress indicator shows how time-consuming tasks are progressing.</p>
<p class="centerAlign"><img src="images/taskbar-button.png" alt="Taskbar Button" /></p><a name="taskbar-example"></a>
<h4 >Taskbar Example</h4>
<p>The following example code illustrates how to use the <a href="qwintaskbarbutton.html">QWinTaskbarButton</a> and <a href="qwintaskbarprogress.html">QWinTaskbarProgress</a> classes to adjust the look of the taskbar button:</p>
<pre class="cpp">

      <span class="type"><a href="qwintaskbarbutton.html">QWinTaskbarButton</a></span> <span class="operator">*</span>button <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="qwintaskbarbutton.html">QWinTaskbarButton</a></span>(widget);
      button<span class="operator">-</span><span class="operator">&gt;</span>setWindow(widget<span class="operator">-</span><span class="operator">&gt;</span>windowHandle());
      button<span class="operator">-</span><span class="operator">&gt;</span>setOverlayIcon(<span class="type"><a href="../qtgui/qicon.html">QIcon</a></span>(<span class="string">&quot;:/loading.png&quot;</span>));

      <span class="type"><a href="qwintaskbarprogress.html">QWinTaskbarProgress</a></span> <span class="operator">*</span>progress <span class="operator">=</span> button<span class="operator">-</span><span class="operator">&gt;</span>progress();
      progress<span class="operator">-</span><span class="operator">&gt;</span>setVisible(<span class="keyword">true</span>);
      progress<span class="operator">-</span><span class="operator">&gt;</span>setValue(<span class="number">50</span>);

</pre>
<a name="jump-lists"></a>
<h3 >Jump Lists</h3>
<p>An application can use Jump Lists to provide users with faster access to files or to display shortcuts to tasks or commands.</p>
<p class="centerAlign"><img src="images/jumplist.png" alt="Jump List" /></p><ul>
<li><b>Destinations</b> — categorized shortcuts to files and URLs that the application can handle and even links to other applications. Windows provides two standard categories that can be added to the custom Jump List, in addition to the ones that the application can create itself.</li>
<li><b>Recent</b> and <b>Frequent</b> — so called <i>known</i> categories that are populated automatically by Windows when the application uses the <a href="../qtwidgets/qfiledialog.html#getOpenFileName">QFileDialog::getOpenFileName</a>() function or when the application is launched to open a file from the Windows shell.</li>
<li><b>Tasks</b> — shortcuts to application functionality. An application can display its most frequently used context-independent functions on task lists.</li>
</ul>
<p><b>Note: </b>To be able to add destinations to its Jump Lists, the application should associate itself with the file types it can handle.</p><a name="jump-list-example"></a>
<h4 >Jump List Example</h4>
<p>The following example code illustrates how to use the classes in the <a href="qwinjumplist.html">QWinJumpList</a> and <a href="qwinjumplistitem.html">QWinJumpListItem</a> classes to implement Jump Lists:</p>
<pre class="cpp">

      <span class="type"><a href="qwinjumplist.html">QWinJumpList</a></span> jumplist;
      jumplist<span class="operator">.</span>begin();
      jumplist<span class="operator">.</span>setKnownCategoryShown(<span class="type"><a href="qwinjumplist.html">QWinJumpList</a></span><span class="operator">::</span>RecentCategory);

      jumplist<span class="operator">.</span>beginTasks();

      <span class="type"><a href="qwinjumplistitem.html">QWinJumpListItem</a></span> <span class="operator">*</span>newProject <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="qwinjumplistitem.html">QWinJumpListItem</a></span>(<span class="type"><a href="qwinjumplistitem.html">QWinJumpListItem</a></span><span class="operator">::</span>Link);
      newProject<span class="operator">-</span><span class="operator">&gt;</span>setTitle(tr(<span class="string">&quot;Create new project&quot;</span>));
      newProject<span class="operator">-</span><span class="operator">&gt;</span>setFilePath(<span class="type"><a href="../qtcore/qdir.html">QDir</a></span><span class="operator">::</span>toNativeSeparators(<span class="type"><a href="../qtcore/qcoreapplication.html">QCoreApplication</a></span><span class="operator">::</span>applicationFilePath()));
      newProject<span class="operator">-</span><span class="operator">&gt;</span>setArguments(<span class="type"><a href="../qtcore/qstringlist.html">QStringList</a></span>(<span class="string">&quot;--new-project&quot;</span>));
      jumplist<span class="operator">.</span>addItem(newProject);

      jumplist<span class="operator">.</span>addLink(tr(<span class="string">&quot;Launch SDK Manager&quot;</span>)<span class="operator">,</span> <span class="type"><a href="../qtcore/qdir.html">QDir</a></span><span class="operator">::</span>toNativeSeparators(<span class="type"><a href="../qtcore/qcoreapplication.html">QCoreApplication</a></span><span class="operator">::</span>applicationDirPath()) <span class="operator">+</span> <span class="string">&quot;\\sdk-manager.exe&quot;</span>);

      jumplist<span class="operator">.</span>commit();

</pre>
<a name="thumbnail-toolbar"></a>
<h3 >Thumbnail Toolbar</h3>
<p>Applications can embed a toolbar in the thumbnail of a window, which is shown when hovering over its taskbar icon. A thumbnail toolbar may provide quick access to the window's commands without requiring the user to restore or activate the window.</p>
<p class="centerAlign"><img src="images/thumbbar.png" alt="Media player thumbnail toolbar" /></p><a name="thumbnail-toolbar-example"></a>
<h4 >Thumbnail Toolbar Example</h4>
<p>The following example code illustrates how to use the functions in the <a href="qwinthumbnailtoolbar.html">QWinThumbnailToolBar</a> and <a href="qwinthumbnailtoolbutton.html">QWinThumbnailToolButton</a> class to implement a thumbnail toolbar:</p>
<pre class="cpp">

      <span class="type"><a href="qwinthumbnailtoolbar.html">QWinThumbnailToolBar</a></span> <span class="operator">*</span>thumbbar <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="qwinthumbnailtoolbar.html">QWinThumbnailToolBar</a></span>(widget);
      thumbbar<span class="operator">-</span><span class="operator">&gt;</span>setWindow(widget<span class="operator">-</span><span class="operator">&gt;</span>windowHandle());

      <span class="type"><a href="qwinthumbnailtoolbutton.html">QWinThumbnailToolButton</a></span> <span class="operator">*</span>settings <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="qwinthumbnailtoolbutton.html">QWinThumbnailToolButton</a></span>(thumbbar);
      settings<span class="operator">-</span><span class="operator">&gt;</span>setToolTip(<span class="string">&quot;Settings&quot;</span>);
      settings<span class="operator">-</span><span class="operator">&gt;</span>setIcon(<span class="string">&quot;:/settings.png&quot;</span>);
      settings<span class="operator">-</span><span class="operator">&gt;</span>setDismissOnClick(<span class="keyword">true</span>);
      connect(settings<span class="operator">,</span> SIGNAL(clicked())<span class="operator">,</span> settingsPage<span class="operator">,</span> SLOT(show()));

      <span class="type"><a href="qwinthumbnailtoolbutton.html">QWinThumbnailToolButton</a></span> <span class="operator">*</span>playPause <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="qwinthumbnailtoolbutton.html">QWinThumbnailToolButton</a></span>(thumbbar);
      playPause<span class="operator">-</span><span class="operator">&gt;</span>setToolTip(<span class="string">&quot;Play/Pause&quot;</span>);
      playPause<span class="operator">-</span><span class="operator">&gt;</span>setIcon(<span class="string">&quot;:/play.png&quot;</span>);
      connect(playPause<span class="operator">,</span> SIGNAL(clicked())<span class="operator">,</span> mediaPlayer<span class="operator">,</span> SLOT(play()));

      thumbbar<span class="operator">-</span><span class="operator">&gt;</span>addButton(settings);
      thumbbar<span class="operator">-</span><span class="operator">&gt;</span>addButton(playPause);

</pre>
</div>
<!-- @@@qtwinextras-Overview.html -->
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2018 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br/>    Qt and respective logos are trademarks of The Qt Company Ltd.     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
