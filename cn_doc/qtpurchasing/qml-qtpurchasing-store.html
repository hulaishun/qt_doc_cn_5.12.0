<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qinappstoreqmltype.cpp -->
  <title>Store QML Type | Qt Purchasing 5.12</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
  <div class="main">
    <div class="main-rounded">
      <div class="navigationbar">
        <table><tr>
<td ><a href="../qtdoc/index.html">Qt 5.12</a></td><td ><a href="qtpurchasing-index.html">Qt采购</a></td><td ><a href="qtpurchasing-qmlmodule.html">QML类型</a></td><td >Store QML Type</td></tr></table><table class="buildversion"><tr>
<td id="buildversion" width="100%" align="right">Qt5.12.0参考文档</td>
        </tr></table>
      </div>
    </div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3><a name="toc">目录</a></h3>
<ul>
<li class="level1"><a href="#methods">方法</a></li>
<li class="level1"><a href="#details">详细描述</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Store QML Type</h1>
<span class="subtitle"></span>
<!-- $$$Store-brief -->
<p>Access point to the external market place for in-app purchases. <a href="#details">More...</a></p>
<!-- @@@Store -->
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> Import Statement:</td><td class="memItemRight bottomAlign"> import QtPurchasing 1.0</td></tr><tr><td class="memItemLeft rightAlign topAlign"> Since:</td><td class="memItemRight bottomAlign">  QtPurchasing 1.0</td></tr></table></div><ul>
<li><a href="qml-qtpurchasing-store-members.html">所有成员清单，包括继承而来的成员</a></li>
</ul>
<a name="methods"></a>
<h2 id="methods">方法</h2>
<ul>
<li class="fn"><b><b><a href="qml-qtpurchasing-store.html#restorePurchases-method">restorePurchases</a></b></b>()</li>
</ul>
<!-- $$$Store-description -->
<a name="details"></a>
<h2 id="details">详细描述</h2>
<p>When using the Qt Purchasing API in QML, the application should instantiate one Store and then instantiate products as children of this store. The products created as children of the Store object will automatically be queried from the external market place if one is available on the current platform.</p>
<p>The following example registers a store with three products, two consumable products and one unlockable.</p>
<pre class="qml">

  <span class="type"><a href="qml-qtpurchasing-store.html">Store</a></span> {
      <span class="type"><a href="qml-qtpurchasing-product.html">Product</a></span> {
          <span class="name">identifier</span>: <span class="string">&quot;myConsumableProduct1&quot;</span>
          <span class="name">type</span>: <span class="name">Product</span>.<span class="name">Consumable</span>

          <span class="comment">// ...</span>
      }

      <span class="type"><a href="qml-qtpurchasing-product.html">Product</a></span> {
          <span class="name">identifier</span>: <span class="string">&quot;myConsumableProduct2&quot;</span>
          <span class="name">type</span>: <span class="name">Product</span>.<span class="name">Consumable</span>

          <span class="comment">// ...</span>
      }

      <span class="type"><a href="qml-qtpurchasing-product.html">Product</a></span> {
          <span class="name">identifier</span>: <span class="string">&quot;myUnlockableProduct&quot;</span>
          <span class="name">type</span>: <span class="name">Product</span>.<span class="name">Unlockable</span>

          <span class="comment">// ...</span>
      }

      <span class="comment">// ...</span>
  }

</pre>
<!-- @@@Store -->
<h2>方法文档</h2>
<!-- $$$restorePurchases -->
<div class="qmlitem"><div class="qmlproto">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="restorePurchases-method">
<td class="tblQmlFuncNode"><p>
<a name="restorePurchases-method"></a><span class="name">restorePurchases</span>()</p></td></tr>
</table></div>
</div><div class="qmldoc"><p>Calling this method will cause onPurchaseRestored handlers to be called asynchronously on previously purchased unlockable products. This can be used to restore purchases for unlockable products when the application is run by the same user on multiple devices, or for example if the application has been uninstalled and reinstalled on the device so that the purchase data has been lost.</p>
<p><b>Note: </b>On some platforms, such as iOS, this will require the user to input their password to launch the restore process. On other platforms, such as Android, it is not typically needed, as the onPurchaseSucceeded handler will be called on any previously purchased unlockable product if the application data is removed.</p></div></div><!-- @@@restorePurchases -->
<br/>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2018 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br/>    Qt and respective logos are trademarks of The Qt Company Ltd.     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
