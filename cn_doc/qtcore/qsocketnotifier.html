<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qsocketnotifier.cpp -->
  <title>QSocketNotifier Class | Qt Core 5.12</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
  <div class="main">
    <div class="main-rounded">
      <div class="navigationbar">
        <table><tr>
<td ><a href="../qtdoc/index.html">Qt 5.12</a></td><td ><a href="qtcore-index.html">Qt核心</a></td><td ><a href="qtcore-module.html">C++类</a></td><td >QSocketNotifier</td></tr></table><table class="buildversion"><tr>
<td id="buildversion" width="100%" align="right">Qt5.12.0参考文档</td>
        </tr></table>
      </div>
    </div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3><a name="toc">目录</a></h3>
<ul>
<li class="level1"><a href="#public-types">公共类型</a></li>
<li class="level1"><a href="#public-functions">公共函数</a></li>
<li class="level1"><a href="#public-slots">公共槽函数</a></li>
<li class="level1"><a href="#signals">信号</a></li>
<li class="level1"><a href="#static-public-members">静态公共成员</a></li>
<li class="level1"><a href="#reimplemented-protected-functions">重新实现的保护函数</a></li>
<li class="level1"><a href="#details">详细描述</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">QSocketNotifier Class</h1>
<!-- $$$QSocketNotifier-brief -->
<p>The <a href="qsocketnotifier.html">QSocketNotifier</a> class provides support for monitoring activity on a file descriptor. <a href="#details">More...</a></p>
<!-- @@@QSocketNotifier -->
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> 头文件：</td><td class="memItemRight bottomAlign">   <span class="preprocessor">#include &lt;QSocketNotifier&gt;</span>
</td></tr><tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += core</td></tr><tr><td class="memItemLeft rightAlign topAlign"> 继承的父类是：</td><td class="memItemRight bottomAlign"> <a href="qobject.html">QObject</a></td></tr></table></div><ul>
<li><a href="qsocketnotifier-members.html">所有成员清单，包括继承而来的成员</a></li>
<li><a href="qsocketnotifier-obsolete.html">过时的成员</a></li>
</ul>
<a name="public-types"></a>
<h2 id="public-types">公共类型</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#Type-enum">类型</a></b> { Read, Write, Exception }</td></tr>
</table></div>
<a name="public-functions"></a>
<h2 id="public-functions">公共函数</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#QSocketNotifier">QSocketNotifier</a></b>(qintptr <i>socket</i>, QSocketNotifier::Type <i>type</i>, QObject *<i>parent</i> = nullptr)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#dtor.QSocketNotifier">~QSocketNotifier</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#isEnabled">isEnabled</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qintptr </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#socket">socket</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QSocketNotifier::Type </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#type">type</a></b>() const</td></tr>
</table></div>
<ul>
<li class="fn">32 个公共函数继承于 <a href="qobject.html#public-functions">QObject</a></li>
</ul>
<a name="public-slots"></a>
<h2 id="public-slots">公共槽函数</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#setEnabled">setEnabled</a></b>(bool <i>enable</i>)</td></tr>
</table></div>
<ul>
<li class="fn">1 个公共槽函数继承于 <a href="qobject.html#public-slots">QObject</a></li>
</ul>
<a name="signals"></a>
<h2 id="signals">信号</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#activated">activated</a></b>(int <i>socket</i>)</td></tr>
</table></div>
<ul>
<li class="fn">2 个信号继承于 <a href="qobject.html#signals">QObject</a></li>
</ul>
<a name="static-public-members"></a>
<h2 id="static-public-members">静态公共成员</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> const QMetaObject </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#staticMetaObject-var">staticMetaObject</a></b></td></tr>
</table></div>
<ul>
<li class="fn">11 个静态公共成员继承于 <a href="qobject.html#static-public-members">QObject</a></li>
</ul>
<a name="reimplemented-protected-functions"></a>
<h2 id="reimplemented-protected-functions">重新实现的保护函数</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="qsocketnotifier.html#event">event</a></b>(QEvent *<i>e</i>) override</td></tr>
</table></div>
<ul>
<li class="fn">9 个保护函数继承于 <a href="qobject.html#protected-functions">QObject</a></li>
</ul>
<h3>其他继承成员有</h3>
<ul>
<li class="fn">1 个属性继承于 <a href="qobject.html#properties">QObject</a></li>
<li class="fn">9 个保护函数继承于 <a href="qobject.html#protected-functions">QObject</a></li>
<li class="fn">1 个保护类型继承于 <a href="qobject.html#protected-variables">QObject</a></li>
<li class="fn">1 个静态保护成员继承于 <a href="qobject.html#static-protected-members">QObject</a></li>
</ul>
<a name="details"></a>
<!-- $$$QSocketNotifier-description -->
<div class="descr">
<h2 id="details">详细描述</h2>
<p>The <a href="qsocketnotifier.html">QSocketNotifier</a> class provides support for monitoring activity on a file descriptor.</p>
<p>The <a href="qsocketnotifier.html">QSocketNotifier</a> makes it possible to integrate Qt's event loop with other event loops based on file descriptors. File descriptor action is detected in Qt's main event loop (<a href="qcoreapplication.html#exec">QCoreApplication::exec</a>()).</p>
<a name="write-notifiers"></a><p>Once you have opened a device using a low-level (usually platform-specific) API, you can create a socket notifier to monitor the file descriptor. The socket notifier is enabled by default, i.e&#x2e; it emits the <a href="qsocketnotifier.html#activated">activated</a>() signal whenever a socket event corresponding to its type occurs. Connect the <a href="qsocketnotifier.html#activated">activated</a>() signal to the slot you want to be called when an event corresponding to your socket notifier's type occurs.</p>
<p>There are three types of socket notifiers: read, write, and exception. The type is described by the <a href="qsocketnotifier.html#Type-enum">类型</a> enum, and must be specified when constructing the socket notifier. After construction it can be determined using the <a href="qsocketnotifier.html#type">type</a>() function. Note that if you need to monitor both reads and writes for the same file descriptor, you must create two socket notifiers. Note also that it is not possible to install two socket notifiers of the same type (<a href="qsocketnotifier.html#Type-enum">Read</a>, <a href="qsocketnotifier.html#Type-enum">Write</a>, <a href="qsocketnotifier.html#Type-enum">Exception</a>) on the same socket.</p>
<p>The <a href="qsocketnotifier.html#setEnabled">setEnabled</a>() function allows you to disable as well as enable the socket notifier. It is generally advisable to explicitly enable or disable the socket notifier, especially for write notifiers. A disabled notifier ignores socket events (the same effect as not creating the socket notifier). Use the <a href="qsocketnotifier.html#isEnabled">isEnabled</a>() function to determine the notifier's current status.</p>
<p>Finally, you can use the <a href="qsocketnotifier.html#socket">socket</a>() function to retrieve the socket identifier. Although the class is called <a href="qsocketnotifier.html">QSocketNotifier</a>, it is normally used for other types of devices than sockets. <a href="../qtnetwork/qtcpsocket.html">QTcpSocket</a> 和 <a href="../qtnetwork/qudpsocket.html">QUdpSocket</a> provide notification through signals, so there is normally no need to use a <a href="qsocketnotifier.html">QSocketNotifier</a> on them.</p>
</div>
<p><b> 参见 </b><a href="qfile.html">QFile</a>, <a href="qprocess.html">QProcess</a>, <a href="../qtnetwork/qtcpsocket.html">QTcpSocket</a>, 和 <a href="../qtnetwork/qudpsocket.html">QUdpSocket</a>.</p>
<!-- @@@QSocketNotifier -->
<div class="types">
<h2>成员类型文档</h2>
<!-- $$$Type$$$Read$$$Write$$$Exception -->
<h3 class="fn" id="Type-enum"><a name="Type-enum"></a>enum QSocketNotifier::<span class="name">类型</span></h3>
<p>This enum describes the various types of events that a socket notifier can recognize. The type must be specified when constructing the socket notifier.</p>
<p>Note that if you need to monitor both reads and writes for the same file descriptor, you must create two socket notifiers. Note also that it is not possible to install two socket notifiers of the same type (Read, Write, Exception) on the same socket.</p>
<div class="table"><table class="valuelist"><tr valign="top" class="odd"><th class="tblConst">常量</th><th class="tblval">值</th><th class="tbldscr">描述</th></tr>
<tr><td class="topAlign"><code>QSocketNotifier::Read</code></td><td class="topAlign tblval"><code>0</code></td><td class="topAlign">There is data to be read.</td></tr>
<tr><td class="topAlign"><code>QSocketNotifier::Write</code></td><td class="topAlign tblval"><code>1</code></td><td class="topAlign">Data can be written.</td></tr>
<tr><td class="topAlign"><code>QSocketNotifier::Exception</code></td><td class="topAlign tblval"><code>2</code></td><td class="topAlign">An exception has occurred. We recommend against using this.</td></tr>
</table></div>
<p><b> 参见 </b><a href="qsocketnotifier.html#QSocketNotifier">QSocketNotifier</a>() 和 <a href="qsocketnotifier.html#type">type</a>().</p>
<!-- @@@Type -->
</div>
<div class="prop">
<h2>属性文档</h2>
</div>
<div class="func">
<h2>成员函数文档</h2>
<!-- $$$QSocketNotifier[overload1]$$$QSocketNotifierqintptrQSocketNotifier::TypeQObject* -->
<h3 class="fn" id="QSocketNotifier"><a name="QSocketNotifier"></a>QSocketNotifier::<span class="name">QSocketNotifier</span>(<span class="type"><a href="qtglobal.html#qintptr-typedef">qintptr</a></span> <i>socket</i>, <span class="type"><a href="qsocketnotifier.html#Type-enum">QSocketNotifier::Type</a></span> <i>type</i>, <span class="type"><a href="qobject.html#QObject">QObject</a></span> *<i>parent</i> = nullptr)</h3>
<p>Constructs a socket notifier with the given <i>parent</i>. It enables the <i>socket</i>, and watches for events of the given <i>type</i>.</p>
<p>It is generally advisable to explicitly enable or disable the socket notifier, especially for write notifiers.</p>
<p><b>Note for Windows users:</b> The socket passed to <a href="qsocketnotifier.html">QSocketNotifier</a> will become non-blocking, even if it was created as a blocking socket.</p>
<p><b> 参见 </b><a href="qsocketnotifier.html#setEnabled">setEnabled</a>() 和 <a href="qsocketnotifier.html#isEnabled">isEnabled</a>().</p>
<!-- @@@QSocketNotifier -->
<!-- $$$~QSocketNotifier[overload1]$$$~QSocketNotifier -->
<h3 class="fn" id="dtor.QSocketNotifier"><a name="dtor.QSocketNotifier"></a><code>[虚函数] </code>QSocketNotifier::<span class="name">~QSocketNotifier</span>()</h3>
<p>Destroys this socket notifier.</p>
<!-- @@@~QSocketNotifier -->
<!-- $$$activated[overload1]$$$activatedint -->
<h3 class="fn" id="activated"><a name="activated"></a><code>[信号] </code><span class="type">void</span> QSocketNotifier::<span class="name">activated</span>(<span class="type">int</span> <i>socket</i>)</h3>
<p>This signal is emitted whenever the socket notifier is enabled and a socket event corresponding to its <a href="qsocketnotifier.html#Type-enum">type</a> occurs.</p>
<p>The socket identifier is passed in the <i>socket</i> parameter.</p>
<p><b>Note: </b>This is a private signal. It can be used in signal connections but cannot be emitted by the user.</p>
<p><b> 参见 </b><a href="qsocketnotifier.html#type">type</a>() 和 <a href="qsocketnotifier.html#socket">socket</a>().</p>
<!-- @@@activated -->
<!-- $$$event[overload1]$$$eventQEvent* -->
<h3 class="fn" id="event"><a name="event"></a><code>[重载虚保护函数] </code><span class="type">bool</span> QSocketNotifier::<span class="name">event</span>(<span class="type"><a href="qevent.html">QEvent</a></span> *<i>e</i>)</h3>
<p>Reimplemented from <a href="qobject.html#event">QObject::event</a>().</p>
<!-- @@@event -->
<!-- $$$isEnabled[overload1]$$$isEnabled -->
<h3 class="fn" id="isEnabled"><a name="isEnabled"></a><span class="type">bool</span> QSocketNotifier::<span class="name">isEnabled</span>() const</h3>
<p>Returns <code>true</code> if the notifier is enabled; otherwise returns <code>false</code>.</p>
<p><b> 参见 </b><a href="qsocketnotifier.html#setEnabled">setEnabled</a>().</p>
<!-- @@@isEnabled -->
<!-- $$$setEnabled[overload1]$$$setEnabledbool -->
<h3 class="fn" id="setEnabled"><a name="setEnabled"></a><code>[slot] </code><span class="type">void</span> QSocketNotifier::<span class="name">setEnabled</span>(<span class="type">bool</span> <i>enable</i>)</h3>
<p>If <i>enable</i> is true, the notifier is enabled; otherwise the notifier is disabled.</p>
<p>The notifier is enabled by default, i.e&#x2e; it emits the <a href="qsocketnotifier.html#activated">activated</a>() signal whenever a socket event corresponding to its <a href="qsocketnotifier.html#type">type</a> occurs. If it is disabled, it ignores socket events (the same effect as not creating the socket notifier).</p>
<p>Write notifiers should normally be disabled immediately after the <a href="qsocketnotifier.html#activated">activated</a>() signal has been emitted</p>
<p><b> 参见 </b><a href="qsocketnotifier.html#isEnabled">isEnabled</a>() 和 <a href="qsocketnotifier.html#activated">activated</a>().</p>
<!-- @@@setEnabled -->
<!-- $$$socket[overload1]$$$socket -->
<h3 class="fn" id="socket"><a name="socket"></a><span class="type"><a href="qtglobal.html#qintptr-typedef">qintptr</a></span> QSocketNotifier::<span class="name">socket</span>() const</h3>
<p>Returns the socket identifier specified to the constructor.</p>
<p><b> 参见 </b><a href="qsocketnotifier.html#type">type</a>().</p>
<!-- @@@socket -->
<!-- $$$type[overload1]$$$type -->
<h3 class="fn" id="type"><a name="type"></a><span class="type"><a href="qsocketnotifier.html#Type-enum">QSocketNotifier::Type</a></span> QSocketNotifier::<span class="name">type</span>() const</h3>
<p>Returns the socket event type specified to the constructor.</p>
<p><b> 参见 </b><a href="qsocketnotifier.html#socket">socket</a>().</p>
<!-- @@@type -->
</div>
<div class="vars">
<h2>成员变量文档</h2>
</div>
<div class="relnonmem">
<h2>相关非成员</h2>
</div>
<div class="macros">
<h2>宏定义文档</h2>
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2018 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br/>    Qt and respective logos are trademarks of The Qt Company Ltd.     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
